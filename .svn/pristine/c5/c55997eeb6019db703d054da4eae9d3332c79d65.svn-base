from django.contrib import admin
from memory import settings
from memory.gallery import models

class GalleryAdmin(admin.ModelAdmin):
    list_display = ('name', 'cover')
    
    class Media:
        js = [settings.TINYMCE_JS, settings.TINYMCE_SETUP_JS, ]
    
class ImageAdmin(admin.ModelAdmin):
    fields = ('gallery', 'path')
    list_display = ('get_gallery_name', 'path')
    
    class Media:
        js = [settings.TINYMCE_JS, settings.TINYMCE_SETUP_JS, ]
    
    def get_gallery_name(self, obj):
        return '%s' % (obj.gallery.name)
    get_gallery_name.short_description = 'Gallery'
    
admin.site.register(models.Gallery, GalleryAdmin)
admin.site.register(models.Image, ImageAdmin)
